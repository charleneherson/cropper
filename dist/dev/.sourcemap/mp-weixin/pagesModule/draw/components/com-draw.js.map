{"version":3,"sources":["webpack:///./src/pagesModule/draw/components/com-draw.vue?b32b","webpack:///./src/pagesModule/draw/components/com-draw.vue?68b1","webpack:///./src/pagesModule/draw/components/com-draw.vue?e3b9","webpack:///./src/pagesModule/draw/components/com-draw.vue?fb16","webpack:///./src/pagesModule/draw/components/com-draw.vue"],"names":["name","props","components","data","context","active","elements","avatar","x","y","type","width","height","path","trans","zIndex","photo","icon","id","scale","translateX","translateY","rotate","text","content","fontsize","color","touch","delete","method","element","index","start","move","avatarList","photoList","iconList","list","computed","methods","init","arr","console","log","textArr","drawImage","p","setStrokeStyle","strokeRect","draw","reset","_this","wx","showActionSheet","itemList","success","res","tapIndex","navigateTo","url","fail","errMsg","touchstart","e","touches","i","length","item","r","Math","sqrt","center","del","sin","PI","cos","scaleX","scaleY","splice","touchmove","centerX","centerY","diffXBefore","diffYBefore","diffXAfter","diffYAfter","angleBefore","atan2","angleAfter","touchend","touchcancel","add","mounted","createCanvasContext","showLoading","setTimeout","canvasToTempFilePath","destWidth","destHeight","canvasId","tempFilePath","hideLoading"],"mappings":"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","file":"pagesModule/draw/components/com-draw.js","sourcesContent":["import { render, staticRenderFns } from \"./com-draw.vue?vue&type=template&id=09583f54&scoped=true&\"\nimport script from \"./com-draw.vue?vue&type=script&lang=js&\"\nexport * from \"./com-draw.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09583f54\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/Charlene/workspace/sticker/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('09583f54')) {\n      api.createRecord('09583f54', component.options)\n    } else {\n      api.reload('09583f54', component.options)\n    }\n    module.hot.accept(\"./com-draw.vue?vue&type=template&id=09583f54&scoped=true&\", function () {\n      api.rerender('09583f54', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pagesModule/draw/components/com-draw.vue\"\nexport default component.exports","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./com-draw.vue?vue&type=template&id=09583f54&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./com-draw.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./com-draw.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"Frame\",\n  props: {},\n  components: {},\n  data() {\n    return {\n      context: null,\n      active: \"icon\",\n      elements: [],\n      avatar: {\n        x: 0,\n        y: 0,\n        type: \"avatar\",\n        width: 300,\n        height: 300,\n        path: \"./static/images/avatar/1.png\",\n        trans: 0,\n        zIndex: 0\n      },\n      photo: {\n        x: 0,\n        y: 0,\n        type: \"photo\",\n        width: 300,\n        height: 300,\n        path: \"./static/images/images/photo/1.png\",\n        trans: 0,\n        zIndex: 0\n      },\n      icon: {\n        id: 0,\n        type: \"icon\",\n        x: 100,\n        y: 100,\n        width: 100,\n        height: 100,\n        path: \"\",\n        trans: 0,\n        zIndex: 0,\n\n        scale: 1,\n        translateX: 0,\n        translateY: 0,\n        rotate: 0,\n        active: true\n      },\n      text: {\n        type: \"text\",\n        content: \"content\",\n        width: \"\",\n        height: \"\",\n        fontsize: \"\",\n        color: \"\",\n        zIndex: \"\"\n      },\n      touch: {\n        delete: -1,\n        method: \"\",\n        element: {\n          index: 0,\n          width: 0,\n          height: 0,\n          x: 0,\n          y: 0,\n          rotate: 0,\n          scale: 1\n        },\n        start: {\n          index: 0,\n          x: 0,\n          y: 0\n        },\n        move: {\n          x: 0,\n          y: 0\n        }\n      },\n      avatarList: [\n        // {\n        //   path: \"./static/images/avatar/1.png\",\n        //   isAuth: true\n        // },\n        // {\n        //   path: \"./../../static/images/avatar/2.jpg\"\n        // },\n        // {\n        //   path: \"./../../static/images/avatar/3.jpg\"\n        // },\n        // {\n        //   path: \"./../../static/images/avatar/4.jpg\"\n        // },\n        // {\n        //   path: \"./../../static/images/avatar/5.jpg\"\n        // },\n        // {\n        //   path: \"./../../static/images/avatar/6.jpg\"\n        // },\n        // {\n        //   path: \"./../../static/images/avatar/7.jpg\"\n        // },\n        // {\n        //   path: \"./../../static/images/avatar/8.jpg\"\n        // },\n        // {\n        //   path: \"./../../static/images/avatar/9.jpg\"\n        // },\n        // {\n        //   path: \"./../../static/images/avatar/10.jpg\"\n        // },\n        // {\n        //   path: \"./../../static/images/avatar/11.jpg\"\n        // }\n      ],\n      photoList: [\n        // {\n        //   path: \"./../../static/images/photo/1.png\"\n        // },\n        // {\n        //   path: \"./../../static/images/photo/2.png\"\n        // },\n        // {\n        //   path: \"./../../static/images/photo/3.png\"\n        // },\n        // {\n        //   path: \"./../../static/images/photo/4.png\"\n        // },\n        // {\n        //   path: \"./../../static/images/photo/5.png\"\n        // },\n        // {\n        //   path: \"./../../static/images/photo/6.png\"\n        // },\n        // {\n        //   path: \"./../../static/images/photo/7.png\"\n        // },\n        // {\n        //   path: \"./../../static/images/photo/8.png\"\n        // },\n        // {\n        //   path: \"./../../static/images/photo/9.png\"\n        // },\n        // {\n        //   path: \"./../../static/images/photo/10.png\"\n        // }\n      ],\n      iconList: [],\n      list: null\n    };\n  },\n  computed: {},\n  methods: {\n    init() {\n      let arr = [\n        {\n          path: `https://csdnimg.cn/cdn/content-toolbar/csdnlogo.png`\n        },\n        {\n          path: `https://csdnimg.cn/cdn/content-toolbar/csdnlogo.png`\n        }\n      ];\n      // for (let i = 1; i <= 30; i++) {\n      //   let path = i > 9 ? 'https://image.cloudbooks.cc/image/icon/00' + i + '.png' : 'https://image.cloudbooks.cc/image/icon/000' + i + '.png'\n      //   let item = {\n      //     path: path\n      //   }\n      //   arr.push(item)\n      // }\n      this.iconList = arr;\n\n      console.log(`this.iconList`, this.iconList);\n\n      let textArr = [\n        [\n          {\n            path: `https://zyb-yayayuwen-1253445850.cos.ap-beijing.myqcloud.com/yaya-fe/steps/bg_submerge_1.png`\n          },\n          {\n            path: `https://zyb-yayayuwen-1253445850.cos.ap-beijing.myqcloud.com/yaya-fe/steps/bg_submerge_2.png`\n          }\n        ]\n      ];\n      // for (let i = 1; i <= 26; i++) {\n      //   let path = i > 9 ? 'https://image.cloudbooks.cc/image/text/00' + i + '.png' : 'https://image.cloudbooks.cc/image/text/000' + i + '.png'\n      //   let item = {\n      //     path: path\n      //   }\n      //   textArr.push(item)\n      // }\n      // this.textList = textArr;\n    },\n    async drawImage() {\n      // 头像\n      console.log(\"drawImage drawImage drawImage drawImage\");\n\n      const p = \"/../../../static/images/icon/clear.png\";\n      this.context.drawImage(p, 0 + 100 - 14, 0 + 100 - 14, 100, 100);\n\n      this.context.setStrokeStyle(\"blue\");\n      this.context.strokeRect(10, 10, 200, 200);\n\n      await this.context.draw();\n    },\n    reset() {\n      // 初始化\n      let _this = this;\n      wx.showActionSheet({\n        itemList: [\"选择照片\", \"选择头像\"],\n        success: function(res) {\n          console.log(res.tapIndex);\n          if (res.tapIndex === 0) {\n            wx.navigateTo({\n              url: \"/pages/cropper/main\"\n            });\n          } else if (res.tapIndex === 1) {\n            // _this.getInfo();\n          }\n        },\n        fail: function(res) {\n          console.log(res.errMsg);\n        }\n      });\n    },\n\n    touchstart(e) {\n      // 判断是偏移, 旋转还是放大\n      console.log(\"touchstart\");\n      // 触摸的开始值\n      this.touch.start.x = e.touches[0].x;\n      this.touch.start.y = e.touches[0].y;\n      // 初始化触摸的元素\n      this.touch.method = \"\";\n      this.touch.element.index = -1;\n      this.touch.element.width = 0;\n      this.touch.element.height = 0;\n      this.touch.element.x = 0;\n      this.touch.element.y = 0;\n      this.touch.element.scale = 1;\n      this.touch.element.rotate = 0;\n\n      // for (let [i, item] of new Map(this.elements.map((item, i) => [i, item]))) {\n      for (let i = this.elements.length - 1; i !== -1; i--) {\n        let item = this.elements[i];\n        // 计算物体旋转之后的位置\n        let r = Math.sqrt(2) * (item.width / 2);\n        let center = {\n          x: 0,\n          y: 0\n        };\n        let del = {\n          x: 0,\n          y: 0\n        };\n\n        let move = {\n          x: 0,\n          y: 0\n        };\n\n        center.x = item.x + item.width / 2;\n        center.y = item.y + item.height / 2;\n\n        del.x = center.x + r * Math.sin((Math.PI / 180) * (-45 - item.rotate));\n        del.y = center.y - r * Math.cos((Math.PI / 180) * (-45 - item.rotate));\n\n        move.y = center.y + r * Math.sin((Math.PI / 180) * (135 - item.rotate));\n        move.x = center.x - r * Math.cos((Math.PI / 180) * (135 - item.rotate));\n        if (item && item.active) {\n          // 判断删除\n          if (\n            e.touches[0].x > del.x - 16 &&\n            e.touches[0].x < del.x + 16 &&\n            e.touches[0].y > del.y - 16 &&\n            e.touches[0].y < del.y + 16\n          ) {\n            this.touch.method = \"clear\";\n            this.touch.delete = i;\n            break;\n          }\n\n          // 判断旋转放大\n          if (\n            e.touches[0].x > move.x - 16 &&\n            e.touches[0].x < move.x + 16 &&\n            e.touches[0].y > move.y - 16 &&\n            e.touches[0].y < move.y + 16\n          ) {\n            console.log(\"旋转放大\");\n\n            this.touch.method = \"scale\";\n            this.touch.element.index = i;\n            this.touch.element.width = item.width;\n            this.touch.element.height = item.height;\n\n            this.touch.element.x = item.x;\n            this.touch.element.y = item.y;\n\n            this.touch.element.scale = item.scale;\n            this.touch.element.rotate = item.rotate;\n            break;\n          }\n        }\n\n        if (\n          e.touches[0].x > center.x - r &&\n          e.touches[0].x < center.x + r &&\n          e.touches[0].y > center.y - r &&\n          e.touches[0].y < center.y + r\n        ) {\n          console.log(\"拖动\");\n          this.touch.method = \"drag\";\n          this.touch.element.index = i;\n          this.touch.element.width = item.width;\n          this.touch.element.height = item.height;\n\n          this.touch.element.x = item.x;\n          this.touch.element.y = item.y;\n\n          this.touch.element.scaleX = item.scaleX;\n          this.touch.element.scaleY = item.scaleY;\n          this.touch.element.rotate = item.rotate;\n          break;\n        }\n      }\n\n      // 执行删除命令\n      if (this.touch.method === \"clear\" && this.touch.delete !== -1) {\n        this.elements.splice(this.touch.delete, 1);\n        this.touch.delete = -1;\n      }\n\n      for (let item of this.elements) {\n        item.active = false;\n      }\n\n      if (\n        this.touch.element.index !== -1 &&\n        this.touch.element.index < this.elements.length\n      ) {\n        this.elements[this.touch.element.index].active = true;\n      }\n\n      console.log(\"drawImage\");\n      this.drawImage();\n    },\n    touchmove(e) {\n      if (this.touch.element.index === -1) {\n        return;\n      }\n      if (this.touch.method === \"drag\") {\n        if (\n          e.touches[0].x > 0 &&\n          e.touches[0].x < 300 &&\n          e.touches[0].y > 0 &&\n          e.touches[0].y < 300\n        ) {\n          this.touch.move.x = e.touches[0].x;\n          this.touch.move.y = e.touches[0].y;\n\n          this.elements[this.touch.element.index].x =\n            this.touch.element.x + this.touch.move.x - this.touch.start.x;\n          this.elements[this.touch.element.index].y =\n            this.touch.element.y + this.touch.move.y - this.touch.start.y;\n        }\n      } else if (this.touch.method === \"scale\") {\n        // 旋转放大中\n        this.touch.move.x = e.touches[0].x;\n        this.touch.move.y = e.touches[0].y;\n\n        // 放大\n\n        this.elements[this.touch.element.index].x =\n          this.touch.element.x - this.touch.move.x + this.touch.start.x;\n        this.elements[this.touch.element.index].y =\n          this.touch.element.y - this.touch.move.x + this.touch.start.x;\n\n        this.elements[this.touch.element.index].width =\n          (this.touch.move.x - this.touch.start.x) * 2 +\n          this.touch.element.width;\n        this.elements[this.touch.element.index].height =\n          (this.touch.move.x - this.touch.start.x) * 2 +\n          this.touch.element.height;\n\n        // 中心点的坐标\n        let centerX = this.touch.element.x + this.touch.element.width / 2;\n        let centerY = this.touch.element.y + this.touch.element.height / 2;\n\n        // 设置原点\n        this.elements[this.touch.element.index].translateX = centerX;\n        this.elements[this.touch.element.index].translateY = centerY;\n\n        // 触摸前的角度\n        let diffXBefore = this.touch.start.x - centerX;\n        let diffYBefore = this.touch.start.y - centerY;\n\n        let diffXAfter = this.touch.move.x - centerX;\n        let diffYAfter = this.touch.move.y - centerY;\n\n        let angleBefore =\n          (Math.atan2(diffYBefore, diffXBefore) / Math.PI) * 180;\n        let angleAfter = (Math.atan2(diffYAfter, diffXAfter) / Math.PI) * 180;\n\n        // this.elements[0].scale = distanceAfter / distanceBefore * this.touch.element.scale\n        this.elements[this.touch.element.index].rotate =\n          angleAfter - angleBefore + this.touch.element.rotate;\n        console.log(this.elements[this.touch.element.index].rotate);\n        // 触摸后的角度\n      }\n\n      this.drawImage();\n    },\n    touchend(e) {\n      if (this.touch.method === \"drag\") {\n        console.log(\"drag\");\n      } else if (this.touch.method === \"clear\") {\n        console.log(\"clear\");\n      } else if (this.touch.method === \"scale\") {\n        console.log(\"scale\");\n      }\n    },\n    touchcancel(e) {\n      console.log(\"touchcancel\");\n    },\n    delete() {\n      console.log(\"delete\");\n      if (this.touch.method === \"clear\" && this.touch.delete !== -1) {\n        this.elements.splice(this.touch.delete, 1);\n        this.touch.delete = -1;\n      }\n      this.drawImage();\n    },\n    add() {\n      console.log(\"add\");\n    }\n  },\n  mounted() {\n    // 初始化数组\n    this.init();\n    this.context = wx.createCanvasContext(\"firstCanvas\", this);\n    // this.context.setStrokeStyle(\"blue\");\n    // this.context.strokeRect(10, 10, 150, 75);\n\n    this.drawImage();\n    console.log(\"Done Done drawImage drawImage drawImage\");\n\n    wx.showLoading();\n    setTimeout(() => {\n      wx.canvasToTempFilePath(\n        {\n          x: 0,\n          y: 0,\n          width: 100,\n          height: 100,\n          destWidth: 300,\n          destHeight: 400,\n          canvasId: \"firstCanvas\",\n          success: function(res) {\n            console.log(`canvasToTempFilePath suc `, res.tempFilePath);\n            wx.hideLoading();\n            // wx.navigateTo({\n            //   url:\n            //     \"/pages/share/main?path=\" + res.tempFilePath\n            // });\n          },\n          fail: function(res) {\n            console.log(`canvasToTempFilePath fail `, res);\n          }\n        },\n        this\n      );\n    }, 200);\n  }\n};\n"],"sourceRoot":""}