import { EventID, NetworkURI, EventDataType, GlobalData } from './common';
/**
 * 整体数据存储结构
 */
export interface DataPool {
    gl: GlobalDataPool;
    /**
     * 每次新开页面创建DataPage，并push到dp
     * dp[dp.length]是当前页面数据池，
     *
     */
    dp: Array<DataPage>;
}
/**
 * 全局数据池
 *
 * @remark
 * 包含两部分：
 * - 全局数据 {@link GlobalData}
 * - 业务数据
 */
export interface GlobalDataPool extends GlobalData {
    [propName: string]: any;
}
/**
 * 页面维度数据池
 */
export interface DataPage {
    /**
     * 页面唯一标识
     */
    pid: string;
    /**
     * 此数据池的开始事件
     */
    st: number;
    /**
     * 此数据池的结束事件
     */
    et: number;
    /**
     * 页面上下文数据池
     */
    contexts: ContextsDataPool;
    /**
     * 事件数据，以EventDataType为key，相同类型事件push到数组中
     */
    events: Map<EventDataType, Map<EventID, Array<EventData>>>;
    /**
     * 网络数据，以请求uri为key，相同uri的网络数据push到数组中
     */
    networks: Map<NetworkURI, Array<NetworkData>>;
}
/**
 * 网络数据格式
 */
export interface NetworkData {
    uri: NetworkURI;
    st: number;
    req: object;
    et: number;
    res: object;
}
/**
 * 页面上下文数据池
 */
export interface ContextsDataPool {
    [key: string]: any;
}
/**
 * 事件数据结构
 */
export interface EventData {
    ty: EventDataType;
    pid: string;
    id: string;
    t: number;
    ext?: {
        params?: object;
        [paramName: string]: any;
    };
}
