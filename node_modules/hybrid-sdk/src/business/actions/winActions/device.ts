/* 判断当前是否联网 */
var _isNetWorkAliveCallback: Function = null
export function winCheckNetWork (callback: Function) {
  if (typeof (window.ZCefClient) === 'undefined') {
    console.error('there no define zcef')
    return
  }
  window.ZCefClient.invokeMethod('IsNetWorkAlive')

  if (typeof callback !== 'function') {
    console.error('callback is not function')
    return
  }

  if (_isNetWorkAliveCallback) {
    window.ZCefClient.removeEventListener('RetIsNetWorkAlive', _isNetWorkAliveCallback)
  }

  _isNetWorkAliveCallback = callback
  window.ZCefClient.addEventListener('RetIsNetWorkAlive', _isNetWorkAliveCallback)
}

// 强制设备检测
export function listenWinDevTestForce (callback: Function) {
  if (typeof (window.ZCefClient) === 'undefined') {
    console.error('there no define zcef')
    return
  }

  if (typeof callback !== 'function') {
    console.error('callback is not function')
    return
  }
  window.ZCefClient.addEventListener('DevTestForce', callback)
}

export function removeListenWinDevTestForce (callback: Function) {
  if (typeof (window.ZCefClient) === 'undefined') {
    console.error('there no define zcef')
    return
  }

  if (typeof callback !== 'function') {
    console.error('callback is not function')
    return
  }
  window.ZCefClient.removeEventListener('DevTestForce', callback)
}
