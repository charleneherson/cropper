import { hybrid } from '../../../utils/iframeHybrid'

// http://qatest7.suanshubang.com/static/fe-docs/_book/hybrid-sdk/app_share.html

/**
 * @description 分享
 * @param {Object} options
 */
export function share (data: any, cb: Function) {
  if (!data) {
    console.error('share param is undefined')
    return
  }

  // is_cache 如果是缓存活动页面，这个值为true。默认false
  // is_share 默认false,如果为true,则显示右上角分享按钮，为false，直接弹出分享对话框
  var actionName = ''
  if (data.is_cache) {
    actionName = 'showCacheActivityShare'
  } else if (data.is_share === 'true') {
    actionName = 'show_share'
  } else {
    actionName = 'share'
    data.is_share = 'false'
  }

  hybrid(actionName, data, cb)
}
