{"map":{"version":3,"sources":["pagesModule1/@yaya/director-uni/lib/yaya-scene-quiz-in-class/questions/Reading.js"],"names":["global","push","2297","module","exports","__webpack_require__","2f16","__webpack_exports__","r","_Reading_vue_vue_type_template_id_7e94b4eb_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_Reading_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","__WEBPACK_IMPORT_KEY__","key","d","_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__","component","Object","770d","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_1_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Reading_vue_vue_type_style_index_0_id_7e94b4eb_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_1_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Reading_vue_vue_type_style_index_0_id_7e94b4eb_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","8bec","_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Reading_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Reading_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","d0bb","render","_vm","this","_h","$createElement","m0","_self","_c","getId","question","category","a0","current","index","total","tatoal","$mp","data","assign","$root","staticRenderFns","ee59","defineProperty","value","default","_vuex","_audioSdkInstance","_interopRequireDefault","obj","__esModule","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","SerialNumber","e","then","bind","RecordComplete","RecordButton","Promise","all","QuestionView","_default","name","countTimer","boundaryScore","clearCountDown","status","type","wordStatusChange","gushiImageChange","readingAudioContextOnPlay","props","Number","currentIndex","isPause","params","canStart","Boolean","computed","mapState","watch","val","clearTimeout","readingTimer","isStart","resetActions","startAction","restart","readingAudioContext","stop","components","created","wx","createInnerAudioContext","mounted","methods","mapMutations","_this","clearInterval","onPlay","updateAudioPlayStatus","step","STEPENUMS","Start","CATEGORYENUMS","PeomReading","updateStep","Listen","onEnded","res","$refs","recordButton","_audioEnd","onError","concat","submit","self","Test","$emit","recordRes","score","userKv","duration","length_ms","beginTime","Date","getTime","tid","answerData","uploadFile","url","filePath","online_audio_url","header","content-type","success","JSON","parse","answer","record","isSign","DataSubmit","first","submitObj","answerInfo","tidId","tidType","isCorrect","resData","destroySdk","fail","complete","isStop","src","audio","updateRecordingStatus","ddd","_this2","value96","getStorageSync","value97","onCanplay","play","offCanplay","poetry","fields","text","changeWordArr","gushiTextArr","map","item","split","itemText","arr","title","questionTitleArr","changeWord","gushiChange"],"mappings":"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"},"code":"(global[\"webpackJsonp\"]=global[\"webpackJsonp\"]||[]).push([[\"pagesModule1/@yaya/director-uni/lib/yaya-scene-quiz-in-class/questions/Reading\"],{2297:function(t,e,n){},\"2f16\":function(t,e,n){\"use strict\";n.r(e);var i=n(\"d0bb\"),r=n(\"8bec\");for(var a in r)\"default\"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);n(\"770d\");var o=n(\"2877\"),s=Object(o[\"a\"])(r[\"default\"],i[\"a\"],i[\"b\"],!1,null,\"7e94b4eb\",null);e[\"default\"]=s.exports},\"770d\":function(t,e,n){\"use strict\";var i=n(\"2297\"),r=n.n(i);r.a},\"8bec\":function(t,e,n){\"use strict\";n.r(e);var i=n(\"ee59\"),r=n.n(i);for(var a in i)\"default\"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e[\"default\"]=r.a},d0bb:function(t,e,n){\"use strict\";var i=function(){var t=this,e=t.$createElement,n=(t._self._c,t.getId(t.question.category)),i={current:t.index+1,total:t.tatoal};t.$mp.data=Object.assign({},{$root:{m0:n,a0:i}})},r=[];n.d(e,\"a\",(function(){return i})),n.d(e,\"b\",(function(){return r}))},ee59:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i=n(\"2f62\"),r=a(n(\"5db8\"));function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(){return n.e(\"pagesModule1/@yaya/director-uni/lib/yaya-common/components/serial-number/index\").then(n.bind(null,\"e103\"))},c=function(){return n.e(\"pagesModule1/@yaya/director-uni/lib/yaya-scene-quiz-in-class/questions/components/record-complete\").then(n.bind(null,\"48c5\"))},l=function(){return Promise.all([n.e(\"common/vendor\"),n.e(\"pagesModule1/@yaya/director-uni/lib/yaya-scene-quiz-in-class/questions/components/record-button\")]).then(n.bind(null,\"f280\"))},h=function(){return Promise.all([n.e(\"common/vendor\"),n.e(\"pagesModule1/@yaya/director-uni/lib/yaya-scene-quiz-in-class/questions/components/question-view\")]).then(n.bind(null,\"ecf3\"))},p={name:\"Reading\",data:function(){return{countTimer:null,boundaryScore:80,clearCountDown:{status:!1,type:\"\"},wordStatusChange:{},gushiImageChange:0,readingAudioContextOnPlay:!1}},props:{question:{type:Object,default:{}},index:{type:Number,default:0},currentIndex:{type:Number,default:0},tatoal:{type:Number,default:0},isPause:{type:Object,default:{status:!1,params:\"\"}},canStart:{type:Boolean,default:!1}},computed:s({},(0,i.mapState)(\"quizInClass\",[\"CATEGORYENUMS\",\"STEPENUMS\",\"audioPlayStatus\",\"recordingStatus\",\"recordRes\",\"step\"]),{},(0,i.mapState)(\"yayaCommon\",[\"IS_IPAD\",\"SYSTEM_INFO\"])),watch:{currentIndex:function(t){clearTimeout(this.readingTimer),t===this.index&&(this.isPause.status||(this.isStart?this.resetActions():(this.startAction(),this.restart())))},isPause:function(t){t.status||this.currentIndex!==this.index||(this.isStart?this.resetActions():(this.startAction(),this.restart())),t.status&&this.currentIndex===this.index&&(\"openAnimation\"!=t.params&&(this.clearCountDown={clearCountDown:!this.clearCountDown.status,type:\"stop\"}),this.readingAudioContext&&this.readingAudioContext.stop())},canStart:function(t){this.canStart=t,t&&this.currentIndex===this.index&&(this.startAction(),this.restart())}},components:{SerialNumber:d,RecordComplete:c,RecordButton:l,QuestionView:h},created:function(){this.readingAudioContext=wx.createInnerAudioContext(),this.canStart&&this.currentIndex===this.index&&this.startAction()},mounted:function(){},methods:s({},(0,i.mapMutations)(\"quizInClass\",[\"updateAudioPlayStatus\",\"updateRecordingStatus\",\"updateStep\"]),{startAction:function(){var t=this;this.isStart=!0,clearInterval(this.countTimer),this.readingAudioContext.onPlay((function(){t.readingAudioContextOnPlay=!0,t.updateAudioPlayStatus(!0),t.step==t.STEPENUMS.Start&&(t.CATEGORYENUMS.PeomReading||t.updateStep(t.STEPENUMS.Listen))})),this.readingAudioContext.onEnded((function(e){t.updateAudioPlayStatus(!1),t.readingAudioContextOnPlay&&t.$refs.recordButton._audioEnd()})),this.readingAudioContext.onError((function(t){}))},getId:function(t){return\"reading_type_\".concat(t)},submit:function(t){var e=this;\"complete\"===t&&this.updateStep(e.STEPENUMS.Test),this.$emit(\"remark\",this.recordRes.score>=this.boundaryScore?[\"first\",\"reading\"]:[\"notFirst\",\"reading\"]);var n={duration:this.recordRes.length_ms,beginTime:(new Date).getTime(),tid:this.question.tid},i={};if(this.question.category==this.CATEGORYENUMS.PeomReading)wx.uploadFile({url:\"https://yuwen.zybang.com/kid-chinese/inclass/audioupload\",filePath:e.recordRes.online_audio_url,name:\"audioFile\",header:{\"content-type\":\"multipart/form-data\"},success:function(t){var a=JSON.parse(t.data);i[e.question.tid]={answer:{record:a.data.url,score:90},duration:e.recordRes.length_ms,isSign:1,userKv:{}};var o={type:e.question.category,answerData:i,userKv:n,first:e.recordRes.score>=e.boundaryScore?1:0},s={type:e.question.category},u={tidId:e.question.tid,tidType:e.question.category,isCorrect:1};u.answerData=i,s.answerData=u;var d={DataSubmit:o,submitObj:s};r.default.destroySdk(),e.$emit(\"gotRecordResult\",d)},fail:function(t){},complete:function(t){}});else{i[this.question.tid]={answer:{record:this.recordRes.online_audio_url,score:this.recordRes.score},duration:this.recordRes.length_ms,isSign:1,userKv:{}};var a={type:this.question.category,answerData:i,userKv:n,first:e.recordRes.score>=e.boundaryScore?1:0},o={type:this.question.category},s={tidId:this.question.tid,tidType:this.question.category,isCorrect:1};s.answerData=i,o.answerData=s;var u={DataSubmit:a,submitObj:o};r.default.destroySdk(),e.$emit(\"gotRecordResult\",u)}},resetActions:function(t){if(r.default.destroySdk(),this.readingAudioContext&&this.readingAudioContext.stop(),this.readingAudioContext.src=this.question.audio.url,this.updateAudioPlayStatus(!1),this.updateRecordingStatus(!1),this.updateStep(this.STEPENUMS.Start),this.currentIndex===this.index){var e={status:!this.clearCountDown.status,type:\"stop\"==t?\"stop\":\"\"};this.clearCountDown=e,this.restart()}},restart:function(){var t=this,e=wx.getStorageSync(\"openAnimation96\"),n=wx.getStorageSync(\"openAnimation97\");if((96!==+this.question.category||e)&&(97!==+this.question.category||n)){if(this.updateStep(this.STEPENUMS.Start),clearInterval(this.countTimer),this.readingAudioContext=wx.createInnerAudioContext(),this.readingAudioContext.src=this.question.audio.url,this.readingAudioContext.onCanplay((function(){t.readingAudioContext.play(),t.readingAudioContext.offCanplay()})),97===+this.question.category){if(this.question.poetry.fields[0].text[0].status)this.wordStatusChange={changeWordArr:this.question.poetry.fields,type:\"PeomReadingRestart\"};else{var i=this.question.poetry.fields.map((function(t,e){return t.text=t.text.split(\"\").map((function(t){return{status:\"normal\",text:t}})),t}));this.wordStatusChange={changeWordArr:i,type:\"PeomReadingRestart\"}}this.gushiImageChange=0}else{var r=this.question.title.split(\"\"),a=r.map((function(t){return{status:\"normal\",text:t}}));this.wordStatusChange={changeWordArr:a,type:\"singleReadingRestart\"}}this.startAction()}},changeWord:function(t){this.wordStatusChange=t},gushiChange:function(t){this.gushiImageChange=t}})};e.default=p}}]);","extractedComments":[]}