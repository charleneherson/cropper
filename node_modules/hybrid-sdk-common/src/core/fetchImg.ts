import { getPromiseFunc, resolveCallbackFactory, rejectCallbackFactory} from "../utils/tool";

interface fetchImgParams {
    type: number;  // 拍照页面类型， 0：actionSheet， 1：调起相机， 2：打开相册
    businessData?: any;
}

/**
 * 图片浏览器
 * @param params 
 */
export function fetchImg(params: any, callback?: Function): any {
    let _params:fetchImgParams = {
        ...params
    };
    let success= resolveCallbackFactory(callback);
    let fail= rejectCallbackFactory(callback);
    return getPromiseFunc("core_fetchImg", _params).then(success, fail);
    
}