import {RouteSwitcher, pageTo} from './router'
import * as core from './index'

// const routerMapSampler = require("../../test/routerSample.json")

// test('route map', () => {
//     expect(router._pageTo({
//         module: "elearning-task",
//         page: "course-data",
//         params: "?id=fake"
//     }, ()=>{}, routerMapSampler))
//     .toBe("https:\/\/yy-s.zuoyebang.cc\/static\/hy\/elearning-task\/course-data-40b9a9d7-hycache.html?id=fake")
// }) 



// jest.mock('./index')
// core.getCommonParameters = jest.fn().mockResolvedValue({
//     appid:'airclass',
//     vc: '1.1.1'
// })
test('test mock', ()=> {

    jest.mock('./index', ()=>{
        return {
            getCommonParameters: jest.fn().mockResolvedValue({
                appid:'airclass',
                vc: '1.1.1'
            }),
            core_openUrl: jest.fn(),
            core_openWindow: jest.fn()
        }
    })

    const switcher = new RouteSwitcher(core)
    expect(switcher.platform).toBe('airclass')

})