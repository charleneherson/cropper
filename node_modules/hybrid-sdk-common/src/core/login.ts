import { getPromiseFunc, resolveCallbackFactory, rejectCallbackFactory} from "../utils/tool";

interface loginParams {
    fr: String;          // 注册外部调用渠道标识
    reLogin: number;     // 0 根据本地buss判断是否调起登录界面, 1 触发重新登录事件
    businessData?: any;
}

/**
 * 登陆功能
 * @param params 
 */
export function core_login(params: any, callback?: Function): any {
    let success= resolveCallbackFactory(callback);
    let fail= rejectCallbackFactory(callback);
    return getPromiseFunc("core_login", params).then(success, fail);;
}

/**
 * 检查登陆状态
 * @param callback 
 */
export function checkLogin(callback?: Function): any {
    let success= resolveCallbackFactory(callback);
    let fail= rejectCallbackFactory(callback);
    return getPromiseFunc("core_isLogin").then(success, fail);
}