const { drawPath: defaultDrawPath } = require('./canvasUtils');

/**
 *
 *
 * @param {*} ctx
 * @param {*} props
 * @param {import('../../../index').options} options
 * @returns
 */
function renderUserStroke(ctx, props, options) {
  if (props.opacity < 0.05) return;
  const {r, g, b, a} = props.strokeColor;

  ctx.save();
  ctx.globalAlpha = props.opacity;
  ctx.lineWidth = props.strokeWidth;
  ctx.strokeStyle = `rgba(${r},${g},${b},${a})`;
  ctx.lineCap = 'round';
  ctx.lineJoin = 'round';
  const drawPath = options.drawUserStrokeAction || defaultDrawPath
  drawPath(ctx, props.points);
  ctx.restore();
};

module.exports = renderUserStroke