/**
 * @file: 加锁解锁
 * @author: wangxitong
 */

/**
 * 锁对象
 */
export const lockAgroup = {};

/**
 *  加锁，3s后自动解锁
 *
 * @param {*} name 名
 */
export const lock = (name) => {
  lockAgroup[name] = 1;
  setTimeout(() => {
    lockAgroup[name] = 0;
  }, 1500);
};

/**
 * 判断是否锁上
 *
 * @param {*} name 名
 * @return {number} 0/1
 */
export const islock = (name) => {
  let l = 0;
  lockAgroup[name] ? (l = 1) : lock(name);
  return l;
};

/**
 * 解锁 想提前解锁自行调用
 *
 * @param {*} name 名
 */
export const unlock = (name) => {
  lockAgroup[name] = 0;
};
